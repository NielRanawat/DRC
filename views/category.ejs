<%- include("partial/header") -%>

  <%- include("partial/navbar") -%>

    <body>


      <section>
        <!-- Card Blog -->
        <div class="max-w-[85rem] px-4 py-10 sm:px-6 lg:px-8 lg:py-14 mx-auto">
          <!-- Grid -->
          <div class="grid lg:grid-cols-1 gap-6">
            <!-- Card -->

            <div
              class="group relative block rounded-xl nonefocus:outline-none nonefocus:ring-1 nonefocus:ring-gray-600"
              href="#">
              <div
                class="flex-shrink-0 relative rounded-xl overflow-hidden w-full h-[250px] md:h-[350px] before:absolute before:inset-x-0 before:w-full before:h-full before:bg-gradient-to-t before:from-gray-900/[.7] before:z-[1]">

                <% if(category==='f1' ){ %>
                  <img class="w-full h-full absolute top-0 start-0 object-cover"
                    src="https://media.formula1.com/image/upload/content/dam/fom-website/manual/Misc/2022manual/GettyImages-1437759309.jpg"
                    alt="cover image">
                  <% } else if (category==='motogp' ) { %>
                    <img class="w-full h-full absolute top-0 start-0 object-cover"
                      src="https://cloudfront-us-east-2.images.arcpublishing.com/reuters/3SZGCRCWOFJ2JK5KBMWTQN52TU.jpg"
                      alt="cover image">
                    <% } else if (category === 'imsp'){ %>
                      <img class="w-full h-full absolute top-0 start-0 object-cover"
                      src="https://upload.wikimedia.org/wikipedia/commons/d/d2/Adrian_Sutil_2011_Malaysia_FP2.jpg"
                      alt="cover image">
                    <% } %>

              </div>

              <div class="absolute top-0 inset-x-0 z-10">
                <div class="p-4 flex flex-col h-full sm:p-6">

                </div>
              </div>

              <div class="absolute bottom-0 inset-x-0 z-10">
                <div class="flex flex-col h-full p-4 sm:p-6">
                  <% if(category==='f1' ){ %>
                    <h3 class="text-lg sm:text-3xl font-semibold text-white group-hover:text-white/[.8]">
                      Explore F1 News
                    </h3>
                    <% } else if (category==='motogp' ) { %>
                      <h3 class="text-lg sm:text-3xl font-semibold text-white group-hover:text-white/[.8]">
                        Explore MotoGP News
                      </h3>
                      <% } else if (category === 'imsp') { %>
                        <h3 class="text-lg sm:text-3xl font-semibold text-white group-hover:text-white/[.8]">
                          Explore Indian Motorsport News
                        </h3>
                      <% } %>

                </div>
              </div>
            </div>
            <!-- End Card -->
          </div>
          <!-- End Grid -->
        </div>





        <!-- Card Blog -->
        <div class="max-w-[85rem] px-4 py-10 sm:px-6 lg:px-8 lg:py-14 mx-auto">
          <!-- Grid -->
          <div class="max-w-2xl mx-auto text-center mb-10 lg:mb-14">
            <h2 class="text-2xl font-bold md:text-4xl md:leading-tight text-transparent bg-clip-text bg-gradient-to-r from-indigo-400 to-cyan-400">Trending</h2>
            <p class="mt-1 text-gray-600 nonetext-gray-400">Explore the trending news</p>
          </div>
          <div class="grid lg:grid-cols-2 gap-6">
            <!-- Card -->
            
            <% let count=0; %>
              <% foundPost.forEach((post)=> { %>
                <% if (count < 4) { %>

                  <a class="group relative block rounded-xl nonefocus:outline-none nonefocus:ring-1 nonefocus:ring-gray-600"
                    href="/article/<%= post._id %>">
                    <div
                      class="flex-shrink-0 relative rounded-xl overflow-hidden w-full h-[350px] before:absolute before:inset-x-0 before:w-full before:h-full before:bg-gradient-to-t before:from-gray-900/[.7] before:z-[1]">
                      <img class="w-full h-full absolute top-0 start-0 object-cover"
                        src="<%= post.img_url %>"
                        alt="article image">
                    </div>

                    <div class="absolute top-0 inset-x-0 z-10">
                      <div class="p-4 flex flex-col h-full sm:p-6">
                        <!-- Avatar -->
                        <div class="flex items-center">
                          <div class="flex-shrink-0">

                          </div>
                          <div class="ms-2.5 sm:ms-4">
                            <h4 class="font-semibold text-white">
                              By <%= post.author_name %>
                            </h4>
                            <p class="text-xs text-white/[.8]">
                              <%= post.createdAt.toLocaleString('en-US', { month: 'short' ,
                              day: '2-digit' , year: 'numeric' }) %>                            </p>
                          </div>
                        </div>
                        <!-- End Avatar -->
                      </div>
                    </div>

                    <div class="absolute bottom-0 inset-x-0 z-10">
                      <div class="flex flex-col h-full p-4 sm:p-6">
                        <h3 class="text-lg sm:text-3xl font-semibold text-white group-hover:text-white/[.8]">
                          <%= post.title %>
                        </h3>

                      </div>
                    </div>
                  </a>
                  <!-- End Card -->

                  <% count++; %>

                    <% } %>

                      <% }) %>

          </div>
          <!-- End Grid -->
        </div>
        <!-- End Card Blog -->


        <!-- Card Blog -->
        <div class="max-w-[85rem] px-4 py-10 sm:px-6 lg:px-8 lg:py-14 mx-auto">
          <!-- Grid -->
          <div class="max-w-2xl  mb-10 lg:mb-14">
            <h2 class="text-2xl font-bold md:text-4xl md:leading-tight bg-gradient-to-r from-orange-400 to-rose-400 text-transparent bg-clip-text">More from <span class="uppercase"><%= category %></span></h2>
            <p class="mt-1 text-gray-600 nonetext-gray-400">More from the category.</p>
          </div>
          <div class="grid lg:grid-cols-2 lg:gap-y-16 gap-10">
            <!-- Card -->
            <% for (let i=3; i < foundPost.length; i++) { %>
              <% const post=foundPost[i] %>
                  <div
                    class="group rounded-xl overflow-hidden nonefocus:outline-none nonefocus:ring-1 nonefocus:ring-gray-600"
                    href="#">
                    <div class="sm:flex">
                      <div class="flex-shrink-0 relative rounded-xl overflow-hidden w-full sm:w-56 h-44">
                        <img
                          class="group-hover:scale-105 transition-transform duration-500 ease-in-out w-full h-full absolute top-0 start-0 object-cover rounded-xl"
                          src="<%= post.img_url %>" alt="article image">
                      </div>

                      <div class="grow mt-4 sm:mt-0 sm:ms-6 px-4 sm:px-0">
                        <h3
                          class="text-xl font-semibold text-gray-800 group-hover:text-gray-600 nonetext-gray-300 nonegroup-hover:text-white">
                          <%= post.title %>
                        </h3>
                        <p class="mt-3 text-gray-600 nonetext-gray-400">
                          <%- post.content.substr(0, 150) %>
                        </p>
                        <a href="/article/<%= post._id %>"
                          class="mt-4 inline-flex items-center gap-x-1 text-blue-600 decoration-2 hover:underline font-medium">
                          Read more
                          <svg class="flex-shrink-0 w-4 h-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                            viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                            stroke-linecap="round" stroke-linejoin="round">
                            <path d="m9 18 6-6-6-6" />
                          </svg>
                        </a>
                      </div>
                    </div>
                  </div>
                  <!-- End Card -->
                  <% } %>



          </div>
          <!-- End Grid -->
        </div>
        <!-- End Card Blog -->



      </section>


      

      <%- include("partial/footer") -%>