<%- include("partial/header") -%>

  <%- include("partial/navbar") -%>
    <script>
      function replaceWithPlaceholder(image) {
        image.src = 'https://placehold.co/600x400?text=No+Cover+Image';
      }
    </script>

    <body>
      <style>
        .white-text {
          text-shadow: rgb(0, 0, 0) 3px 0 15px;
        }
      </style>
      <!-- Card Blog -->
      <div class="max-w-[85rem] px-4 py-10 sm:px-6 lg:px-8 lg:py-14 mx-auto">

        <div style="display: none;" id="toast-success"
          class="p-4 mb-4 md:mx-36 text-green-800 border border-green-300 rounded-lg bg-green-50 null:bg-gray-800 null:text-green-400 null:border-green-800"
          role="alert">
          <div class="flex items-center">

            <svg class="flex-shrink-0 w-4 h-4 me-2" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"
              fill="currentColor" viewBox="0 0 24 24">
              <path
                d="M17.1 12.6v-1.8A5.4 5.4 0 0 0 13 5.6V3a1 1 0 0 0-2 0v2.4a5.4 5.4 0 0 0-4 5.5v1.8c0 2.4-1.9 3-1.9 4.2 0 .6 0 1.2.5 1.2h13c.5 0 .5-.6.5-1.2 0-1.2-1.9-1.8-1.9-4.2Zm-13.2-.8a1 1 0 0 1-1-1c0-2.3.9-4.6 2.5-6.4a1 1 0 1 1 1.5 1.4 7.4 7.4 0 0 0-2 5 1 1 0 0 1-1 1Zm16.2 0a1 1 0 0 1-1-1c0-1.8-.7-3.6-2-5a1 1 0 0 1 1.5-1.4c1.6 1.8 2.5 4 2.5 6.4a1 1 0 0 1-1 1ZM8.8 19a3.5 3.5 0 0 0 6.4 0H8.8Z" />
            </svg>

            <span class="sr-only">Info</span>
            <h3 class="text-lg font-bold">Welcome to DRC Community!</h3>
          </div>
          <div class="mt-2 mb-4 text-sm">
            An email verification link has been sent to your mail address.
          </div>
          <div class="flex">
            <a target="_blank" href="http://mail.google.com">
              <button type="button"
                class="text-white bg-green-800 hover:bg-green-900 focus:ring-4 focus:outline-none focus:ring-green-300 font-medium rounded-lg text-xs px-3 py-1.5 me-2 text-center inline-flex items-center null:bg-green-600 null:hover:bg-green-700 null:focus:ring-green-800">
                <svg class="me-2 h-3 w-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor"
                  viewBox="0 0 20 14">
                  <path
                    d="M10 0C4.612 0 0 5.336 0 7c0 1.742 3.546 7 10 7 6.454 0 10-5.258 10-7 0-1.664-4.612-7-10-7Zm0 10a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z" />
                </svg>
                Open Gmail
              </button>
            </a>
            <button onclick="document.getElementById('toast-success').style.display='none'" type="button"
              class="text-green-800 bg-transparent border border-green-800 hover:bg-green-900 hover:text-white focus:ring-4 focus:outline-none focus:ring-green-300 font-medium rounded-lg text-xs px-3 py-1.5 text-center null:hover:bg-green-600 null:border-green-600 null:text-green-400 null:hover:text-white null:focus:ring-green-800"
              data-dismiss-target="#alert-additional-content-3" aria-label="Close">
              Dismiss
            </button>
          </div>
        </div>


        <!-- Title -->
        <div class="max-w-2xl mx-auto text-center mb-10 lg:mb-14">
          <h2
            class="text-2xl font-bold md:text-4xl md:leading-tight text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-violet-600">
            Latest</h2>
          <p class="mt-1 text-gray-600">Discover Latest Motorsport Buzz.</p>
        </div>
        <!-- End Title -->

        <!-- Grid -->
        <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-6">
          <!-- Card -->
          <div style="cursor: pointer;" onclick="window.location.href='/article/<%= carousel1._id %>'"
            class="group  relative flex flex-col w-full min-h-[20rem] md:min-h-[30rem] md:hover:scale-105 transition duration-500 bg-center bg-cover rounded-xl hover:shadow-lg transition bg-[url('<%= carousel1.img_url %>')] none:focus:outline-none none:focus:ring-1 none:focus:ring-gray-600"
            href="#">
            <div class="flex-auto p-4 md:p-6">
              <h3 class="text-2xl text-white/[.9] group-hover:text-white">
                <span class="font-bold white-text bg-black bg-opacity-30">
                  <%= carousel1.carouselHeading %>
                </span>
              </h3>
            </div>
            <div class="pt-0 p-4 md:p-6">
              <div onclick="window.location.href='/article/<%= carousel1._id %>'"
                class="inline-flex items-center gap-2 text-sm font-medium text-white group-hover:text-white/[.7]">
                Read More
                <svg class="flex-shrink-0 w-4 h-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                  viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                  stroke-linejoin="round">
                  <path d="m9 18 6-6-6-6" />
                </svg>
              </div>
            </div>
          </div>
          <!-- End Card -->

          <!-- Card -->
          <div style="cursor: pointer;" onclick="window.location.href='/article/<%= carousel2._id %>'"
            class="group relative flex flex-col w-full min-h-[20rem] md:min-h-[30rem] md:hover:scale-105 transition duration-500 bg-center bg-cover rounded-xl hover:shadow-lg transition bg-[url('<%= carousel2.img_url %>')] none:focus:outline-none none:focus:ring-1 none:focus:ring-gray-600"
            href="#">
            <div class="flex-auto p-4 md:p-6">
              <h3 class="text-2xl text-white/[.9] group-hover:text-white">
                <span class="font-bold text-shadow-lg text-shadow-black white-text bg-black bg-opacity-30">
                  <%= carousel2.carouselHeading %>
                </span>
              </h3>
            </div>
            <div class="pt-0 p-4 md:p-6">
              <div onclick="window.location.href='/article/<%= carousel2._id %>'"
                class="inline-flex items-center gap-2 text-sm font-medium text-white group-hover:text-white/[.7]">
                Read More
                <svg class="flex-shrink-0 w-4 h-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                  viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                  stroke-linejoin="round">
                  <path d="m9 18 6-6-6-6" />
                </svg>
              </div>
            </div>
          </div>
          <!-- End Card -->

          <!-- Card -->
          <div style="cursor: pointer;" onclick="window.location.href='/article/<%= carousel3._id %>'"
            class="group relative flex flex-col w-full min-h-[20rem] md:min-h-[30rem] md:hover:scale-105 transition duration-500 bg-center bg-cover rounded-xl hover:shadow-lg transition bg-[url('<%= carousel3.img_url %>')] none:focus:outline-none none:focus:ring-1 none:focus:ring-gray-600"
            href="#">
            <div class="flex-auto p-4 md:p-6">
              <h3
                class="text-2xl text-white/[.9] white-text drop-shadow-lg shadow-black group-hover:text-white bg-black bg-opacity-30">
                <span class="font-bold bg-black bg-opacity-30">
                  <%= carousel3.carouselHeading %>
                </span>
              </h3>
            </div>
            <div class="pt-0 p-4 md:p-6">
              <div onclick="window.location.href='/article/<%= carousel3._id %>'"
                class="inline-flex items-center gap-2 text-sm font-medium text-white group-hover:text-white/[.7]">
                Read More
                <svg class="flex-shrink-0 w-4 h-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                  viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                  stroke-linejoin="round">
                  <path d="m9 18 6-6-6-6" />
                </svg>
              </div>
            </div>
          </div>
          <!-- End Card -->
        </div>
        <!-- End Grid -->
      </div>
      <!-- End Card Blog -->




      <!-- Card Blog -->
      <hr class="mx-5 my-10 md:mx-20 border-gray-200">

      <div class="max-w-[85rem] px-4 py-10 sm:px-6 lg:px-8 lg:py-14 mx-auto">
        <!-- Grid -->
        <div class="max-w-2xl mb-10">
          <h2
            class="text-2xl font-bold md:text-4xl md:leading-tight none:text-white bg-clip-text text-transparent bg-gradient-to-r from-red-500 to-orange-500">
            Trending stories</h2>
          <p class="mt-1 text-gray-600 text-transparent bg-clip-text bg-gradient-to-r from-red-500 to-orange-500">
            Explore trending stories</p>
        </div>

        <div class="grid md:grid-cols-3 lg:gap-y-16 gap-10">


          <!-- Card -->
          <% let count1=0; %>

            <% foundPost.forEach((post)=> { %>
              <% if (count1 < 14) { %>

                <% if(post._id !=carousel1._id && post._id !=carousel2._id && post._id !=carousel3._id){ %>
                  <!-- Card -->
    <a class="group null:focus:outline-none null:focus:ring-1 null:focus:ring-gray-600" href="/article/<%= post._id %>">
      <div class="relative pt-[50%] sm:pt-[70%] rounded-xl overflow-hidden">
        <img class="size-full absolute top-0 start-0 object-cover group-hover:scale-105 transition-transform duration-500 ease-in-out rounded-xl" onerror="replaceWithPlaceholder(this)" src="<%= post.img_url %>" alt="Cover Image">
        <span class="absolute top-0 end-0 rounded-se-xl rounded-es-xl text-xs font-medium bg-blue-600 text-white py-1.5 px-3 null:bg-gray-900">
          <% if(post.mainTag === 'f1'){ %>
            F1
          <% } else if (post.mainTag === 'motogp'){ %>
            MotoGP
          <% } else { %>
            Indian Motorsport
          <% } %>
        </span>
      </div>

      <div class="mt-7">
        <h3 class="text-xl font-semibold text-gray-800 group-hover:text-gray-600 null:text-gray-200">
          <%= post.title %>
        </h3>
        <p href="/article/<%= post._id %>" class="mt-5 inline-flex items-center gap-x-1 text-blue-600 decoration-2 group-hover:underline font-medium">
          Read more
          <svg class="flex-shrink-0 size-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m9 18 6-6-6-6"/></svg>
        </p>
      </div>
    </a>
    <!-- End Card -->

                  <% count1++; %>
                    <% } %>
                      <% } %>
                        <% }) %>

                          <!-- End Card -->
        </div>
        <!-- End Grid -->
      </div>

      <!-- Card Blog -->
      <div class="max-w-[85rem] px-4 py-10 sm:px-6 lg:px-8 lg:py-14 mx-auto">
        <!-- Grid -->
        <div class="max-w-2xl mb-10 lg:mb-14">
          <h2 class="text-2xl font-bold md:text-4xl md:leading-tight none:text-white">Explore More</h2>
        </div>

        <div class="grid lg:grid-cols-2 gap-6">
          <!-- Card -->
          <a class="group relative block rounded-xl none:focus:outline-none none:focus:ring-1 none:focus:ring-gray-600"
            href="/category?name=f1">
            <div
              class="flex-shrink-0 relative rounded-xl overflow-hidden w-full h-[350px] before:absolute before:inset-x-0 before:w-full before:h-full before:bg-gradient-to-t before:from-gray-900/[.7] before:z-[1]">
              <img class="w-full h-full absolute top-0 start-0 object-cover"
                src="https://library.sportingnews.com/styles/crop_style_16_9_desktop/s3/2023-02/nba-plain--5a35d13f-c0ee-4740-bb0d-357b329fd4db.png?itok=R6Y5e-bq"
                alt="Image Description">
            </div>

            <div class="absolute top-0 inset-x-0 z-10">
              <div class="p-4 flex flex-col h-full sm:p-6">

              </div>
            </div>

            <div class="absolute bottom-0 inset-x-0 z-10">
              <div class="flex flex-col h-full p-4 sm:p-6">
                <h3 class="text-lg sm:text-3xl font-semibold text-white group-hover:text-white/[.8]">
                  Latest from Formula 1
                </h3>
                <p class="mt-2 text-white/[.8]">
                  Explore the latest and most exciting news
                </p>
              </div>
            </div>
          </a>
          <!-- End Card -->

          <!-- Card -->
          <a class="group relative block rounded-xl none:focus:outline-none none:focus:ring-1 none:focus:ring-gray-600"
            href="/category?name=motogp">
            <div
              class="flex-shrink-0 relative rounded-xl overflow-hidden w-full h-[350px] before:absolute before:inset-x-0 before:w-full before:h-full before:bg-gradient-to-t before:from-gray-900/[.7] before:z-[1]">
              <img class="w-full h-full absolute top-0 start-0 object-cover"
                src="https://vroom.media/wp-content/uploads/motogp-4k-hd-ibc-tv.jpg" alt="Image Description">
            </div>

            <div class="absolute top-0 inset-x-0 z-10">
              <div class="p-4 flex flex-col h-full sm:p-6">

              </div>
            </div>

            <div class="absolute bottom-0 inset-x-0 z-10">
              <div class="flex flex-col h-full p-4 sm:p-6">
                <h3 class="text-lg sm:text-3xl font-semibold text-white group-hover:text-white/[.8]">
                  Latest from MotoGP
                </h3>
                <p class="mt-2 text-white/[.8]">
                  Explore the latest and most exciting news
                </p>
              </div>
            </div>
          </a>
          <!-- End Card -->
        </div>
        <!-- End Grid -->
      </div>
      <!-- End Card Blog -->

      <script>
        document.addEventListener('DOMContentLoaded', function () {
          const urlParams = new URLSearchParams(window.location.search);

          if (urlParams.has('newUser') && urlParams.get('newUser') == '1') {
            // Show the alert div
            document.getElementById('toast-success').style.display = 'block';
            setTimeout(function () {
              document.getElementById('toast-success').style.display = 'none';
            }, 12000);
          }



        });

      </script>

      <%- include("partial/footer") -%>