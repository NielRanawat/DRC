<%- include("partial/header") -%>

  <%- include("partial/navbar") -%>
    <script>
      function replaceWithPlaceholder(image) {
        image.src = 'https://placehold.co/600x400?text=No+Cover+Image';
      }
    </script>

    <body>
      <style>
        .white-text {
          text-shadow: rgb(0, 0, 0) 3px 0 15px;
        }
      </style>
      <!-- Card Blog -->
      <div class="max-w-[85rem] px-4 py-10 sm:px-6 lg:px-8 lg:py-14 mx-auto">


        <div id="newAccPopup" style="display: none;" class="relative z-10" aria-labelledby="modal-title" role="dialog"
          aria-modal="true">
          <div class="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"></div>

          <div class="fixed inset-0 z-10 w-screen overflow-y-auto">
            <div class="flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0">
              <div
                class="relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg">
                <div class="bg-white px-4 pb-4 pt-5 sm:p-6 sm:pb-4">
                  <div class="sm:flex sm:items-start">
                    <div
                      class="mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full bg-green-100 sm:mx-0 sm:h-10 sm:w-10">
                      <svg class="w-4 text-green-400 h-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
                        fill="rgba(100,205,138,1)">
                        <path
                          d="M20 17H22V19H2V17H4V10C4 5.58172 7.58172 2 12 2C16.4183 2 20 5.58172 20 10V17ZM9 21H15V23H9V21Z">
                        </path>
                      </svg>
                    </div>
                    <div class="mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left">
                      <h3 class="text-xl mb-2 font-semibold leading-6 text-gray-900" id="modal-title">Welcome to DRC
                        Community!</h3>
                      <div class="mt-2">
                        <p class="text-base text-gray-500">We've just sent a verification link to your registered email
                          address. To complete the account setup, please check your email and click on the verification
                          link.</p>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="bg-gray-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6">
                  <button type="button"
                    class="inline-flex w-full justify-center rounded-md bg-blue-600 px-3 py-2 text-sm text-white shadow-sm hover:bg-blue-500 sm:ml-3 sm:w-auto"><a
                      href="https://mail.google.com">
                      Open Gmail
                    </a></button>
                  <button onclick="closePopup(this)" type="button"
                    class="mt-3 inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm  text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:mt-0 sm:w-auto">Do
                    it later</button>
                </div>
              </div>
            </div>
          </div>
        </div>


        <!-- Title -->
        <div class="max-w-2xl mx-auto text-center mb-10 lg:mb-14">
          <h2
            class="text-2xl font-bold md:text-4xl md:leading-tight text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-violet-600">
            Latest</h2>
          <p class="mt-1 text-gray-600">Discover Latest Motorsport Buzz.</p>

          <!-- <div class="grid md:grid-cols-2">
            <div class="flex flex-col bg-white border shadow-sm rounded-xl p-4 md:p-5 null:bg-slate-900 null:border-gray-700 null:shadow-slate-700/[.7]">
              <a class="twitter-timeline" href="https://twitter.com/DesiRacingco?ref_src=twsrc%5Etfw">Tweets by DesiRacingco</a> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
            </div>
          </div> -->
        </div>
        <!-- End Title -->

        <!-- Grid -->
        <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-6">
          <!-- Card -->
          <div style="cursor: pointer;" onclick="window.location.href='/article/<%= carousel1._id %>'"
            class="group  relative flex flex-col w-full min-h-[20rem] md:min-h-[30rem] md:hover:scale-105 transition duration-500 bg-center bg-cover rounded-xl hover:shadow-lg transition bg-[url('<%= carousel1.img_url %>')] none:focus:outline-none none:focus:ring-1 none:focus:ring-gray-600"
            href="#">
            <div class="flex-auto p-4 md:p-6">
              <h3 class="text-2xl text-white/[.9] group-hover:text-white">
                <span class="font-bold white-text bg-black bg-opacity-30">
                  <%= carousel1.carouselHeading %>
                </span>
              </h3>
            </div>
            <div class="pt-0 p-4 md:p-6">
              <div onclick="window.location.href='/article/<%= carousel1._id %>'"
                class="inline-flex items-center gap-2 text-sm font-medium text-white group-hover:text-white/[.7]">
                Read More
                <svg class="flex-shrink-0 w-4 h-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                  viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                  stroke-linejoin="round">
                  <path d="m9 18 6-6-6-6" />
                </svg>
              </div>
            </div>
          </div>
          <!-- End Card -->

          <!-- Card -->
          <div style="cursor: pointer;" onclick="window.location.href='/article/<%= carousel2._id %>'"
            class="group relative flex flex-col w-full min-h-[20rem] md:min-h-[30rem] md:hover:scale-105 transition duration-500 bg-center bg-cover rounded-xl hover:shadow-lg transition bg-[url('<%= carousel2.img_url %>')] none:focus:outline-none none:focus:ring-1 none:focus:ring-gray-600"
            href="#">
            <div class="flex-auto p-4 md:p-6">
              <h3 class="text-2xl text-white/[.9] group-hover:text-white">
                <span class="font-bold text-shadow-lg text-shadow-black white-text bg-black bg-opacity-30">
                  <%= carousel2.carouselHeading %>
                </span>
              </h3>
            </div>
            <div class="pt-0 p-4 md:p-6">
              <div onclick="window.location.href='/article/<%= carousel2._id %>'"
                class="inline-flex items-center gap-2 text-sm font-medium text-white group-hover:text-white/[.7]">
                Read More
                <svg class="flex-shrink-0 w-4 h-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                  viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                  stroke-linejoin="round">
                  <path d="m9 18 6-6-6-6" />
                </svg>
              </div>
            </div>
          </div>
          <!-- End Card -->

          <!-- Card -->
          <div style="cursor: pointer;" onclick="window.location.href='/article/<%= carousel3._id %>'"
            class="group relative flex flex-col w-full min-h-[20rem] md:min-h-[30rem] md:hover:scale-105 transition duration-500 bg-center bg-cover rounded-xl hover:shadow-lg transition bg-[url('<%= carousel3.img_url %>')] none:focus:outline-none none:focus:ring-1 none:focus:ring-gray-600"
            href="#">
            <div class="flex-auto p-4 md:p-6">
              <h3
                class="text-2xl text-white/[.9] white-text drop-shadow-lg shadow-black group-hover:text-white bg-black bg-opacity-30">
                <span class="font-bold bg-black bg-opacity-30">
                  <%= carousel3.carouselHeading %>
                </span>
              </h3>
            </div>
            <div class="pt-0 p-4 md:p-6">
              <div onclick="window.location.href='/article/<%= carousel3._id %>'"
                class="inline-flex items-center gap-2 text-sm font-medium text-white group-hover:text-white/[.7]">
                Read More
                <svg class="flex-shrink-0 w-4 h-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                  viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                  stroke-linejoin="round">
                  <path d="m9 18 6-6-6-6" />
                </svg>
              </div>
            </div>
          </div>
          <!-- End Card -->
        </div>
        <!-- End Grid -->
      </div>
      <!-- End Card Blog -->




      <!-- Card Blog -->
      <hr class="mx-5 my-10 md:mx-20 border-gray-200">

      <div class="max-w-[85rem] px-4 py-10 sm:px-6 lg:px-8 lg:py-14 mx-auto">
        <!-- Grid -->
        <div class="max-w-2xl mb-10">
          <h2
            class="text-2xl font-bold md:text-4xl md:leading-tight none:text-white bg-clip-text text-transparent bg-gradient-to-r from-red-500 to-orange-500">
            Trending stories</h2>
          <p class="mt-1 text-gray-600 text-transparent bg-clip-text bg-gradient-to-r from-red-500 to-orange-500">
            Explore trending stories</p>
        </div>

        <div class="grid md:grid-cols-3 lg:gap-y-16 gap-10">
          <!-- Card -->
          <% let count1=0; %>

            <% foundPost.forEach((post)=> { %>
              <% if (count1 < 18) { %>

                <% if(post._id !=carousel1._id && post._id !=carousel2._id && post._id !=carousel3._id){ %>
                  <!-- Card -->
                  <a class="group null:focus:outline-none null:focus:ring-1 null:focus:ring-gray-600"
                    href="/article/<%= post._id %>">
                    <div class="relative pt-[50%] sm:pt-[70%] rounded-xl overflow-hidden">
                      <img
                        class="size-full absolute top-0 start-0 object-cover group-hover:scale-105 transition-transform duration-500 ease-in-out rounded-xl"
                        onerror="replaceWithPlaceholder(this)" src="<%= post.img_url %>" alt="Cover Image">
                      <span
                        class="absolute top-0 end-0 rounded-se-xl rounded-es-xl text-xs font-medium bg-blue-600 text-white py-1.5 px-3 null:bg-gray-900">
                        <% if(post.mainTag==='f1' ){ %>
                          F1
                          <% } else if (post.mainTag==='motogp' ){ %>
                            MotoGP
                            <% } else if (post.mainTag==='imsp' ) { %>
                              Indian Motorsport
                              <% } else { %>
                                Others
                                <% } %>
                      </span>
                    </div>

                    <div class="mt-7">
                      <h3 class="text-xl font-semibold text-gray-800 group-hover:text-gray-600 null:text-gray-200">
                        <%= post.title %>
                      </h3>

                      <p class="text-xs mt-2"> <i class="ri-calendar-line mr-[2px]"></i>
                        <%= post.createdAt.toLocaleString('en-US', { month: 'short' , day: '2-digit' , year: 'numeric'
                          }) %>
                      </p>

                      <p href="/article/<%= post._id %>"
                        class="mt-3 inline-flex items-center gap-x-1 text-blue-600 decoration-2 group-hover:underline font-medium">
                        Read more
                        <svg class="flex-shrink-0 size-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                          viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                          stroke-linejoin="round">
                          <path d="m9 18 6-6-6-6" />
                        </svg>
                      </p>
                    </div>
                  </a>
                  <!-- End Card -->

                  <% count1++; %>
                    <% } %>
                      <% } %>
                        <% }) %>

                          <!-- End Card -->
        </div>
        <!-- End Grid -->
      </div>

      <!-- Card Blog -->
      <div class="max-w-[85rem] px-4 py-10 sm:px-6 lg:px-8 lg:py-14 mx-auto">
        <!-- Grid -->
        <div class="max-w-2xl mb-10 lg:mb-14">
          <h2 class="text-2xl font-bold md:text-4xl md:leading-tight none:text-white">Explore More</h2>
        </div>

        <div class="grid lg:grid-cols-2 gap-6">
          <!-- Card -->
          <a class="group relative block rounded-xl none:focus:outline-none none:focus:ring-1 none:focus:ring-gray-600"
            href="/category?name=f1">
            <div
              class="flex-shrink-0 relative rounded-xl overflow-hidden w-full h-[350px] before:absolute before:inset-x-0 before:w-full before:h-full before:bg-gradient-to-t before:from-gray-900/[.7] before:z-[1]">
              <img class="w-full h-full absolute top-0 start-0 object-cover"
                src="https://library.sportingnews.com/styles/crop_style_16_9_desktop/s3/2023-02/nba-plain--5a35d13f-c0ee-4740-bb0d-357b329fd4db.png?itok=R6Y5e-bq"
                alt="Image Description">
            </div>

            <div class="absolute top-0 inset-x-0 z-10">
              <div class="p-4 flex flex-col h-full sm:p-6">

              </div>
            </div>

            <div class="absolute bottom-0 inset-x-0 z-10">
              <div class="flex flex-col h-full p-4 sm:p-6">
                <h3 class="text-lg sm:text-3xl font-semibold text-white group-hover:text-white/[.8]">
                  Latest from Formula 1
                </h3>
                <p class="mt-2 text-white/[.8]">
                  Explore the latest and most exciting news
                </p>
              </div>
            </div>
          </a>
          <!-- End Card -->

          <!-- Card -->
          <a class="group relative block rounded-xl none:focus:outline-none none:focus:ring-1 none:focus:ring-gray-600"
            href="/category?name=motogp">
            <div
              class="flex-shrink-0 relative rounded-xl overflow-hidden w-full h-[350px] before:absolute before:inset-x-0 before:w-full before:h-full before:bg-gradient-to-t before:from-gray-900/[.7] before:z-[1]">
              <img class="w-full h-full absolute top-0 start-0 object-cover"
                src="https://vroom.media/wp-content/uploads/motogp-4k-hd-ibc-tv.jpg" alt="Image Description">
            </div>

            <div class="absolute top-0 inset-x-0 z-10">
              <div class="p-4 flex flex-col h-full sm:p-6">

              </div>
            </div>

            <div class="absolute bottom-0 inset-x-0 z-10">
              <div class="flex flex-col h-full p-4 sm:p-6">
                <h3 class="text-lg sm:text-3xl font-semibold text-white group-hover:text-white/[.8]">
                  Latest from MotoGP
                </h3>
                <p class="mt-2 text-white/[.8]">
                  Explore the latest and most exciting news
                </p>
              </div>
            </div>
          </a>
          <!-- End Card -->
        </div>
        <!-- End Grid -->
      </div>
      <!-- End Card Blog -->

      <script>
        document.addEventListener('DOMContentLoaded', function () {
          const urlParams = new URLSearchParams(window.location.search);

          if (urlParams.has('newUser') && urlParams.get('newUser') == '1') {
            // Show the alert div
            document.getElementById('newAccPopup').style.display = 'block';

          }



        });

      </script>
      <script>
        function closePopup() {
          document.getElementById('newAccPopup').style.display = 'none';
        }
      </script>

      <%- include("partial/footer") -%>