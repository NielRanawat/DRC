<%- include("partial/header") -%>
<body class="givePadding">
    <h1 class="text-center" style="font-size: 4rem;">Admin Portal</h1>
    <h2 class="display-3 mb-3">Add a Post</h2>
    <form action="/edit-post" method="post">
        <input name="id" value="<%= foundPost._id %>" type="id" hidden>
        <div class="form-group mb-3">
            <label>Title</label>
            <input type="text" name="title" class="form-control" value="<%= foundPost.title %>" autofocus>
        </div>
        <div class="form-group mb-3">
            <label>Image URL</label>
            <input type="url" name="img_url" class="form-control" value="<%= foundPost.img_url %>" required autofocus>
        </div>
        <div class="form-group mb-3">
            <label>Post</label>
            <textarea class="form-control" name="content" rows="3"><%= foundPost.content %></textarea>
        </div>
        <label>Is Heading?</label>
        <select id="headingOption" onchange="myFunction()" name="isHeading" class="form-select mb-3">
            <option selected disabled value="">Select a option</option>
            <option value="true">Yes</option>
            <option value="false">No</option>
          </select>
        <div class="form-group mb-3">
            <label style="display: none;" id="cHead">Carousel Heading</label>
            <input hidden id="carouselHeading" type="text" name="carouselHeading" class="form-control" autofocus>
        </div>  
        <div class="form-group mb-3">
            <label style="display: none;" id="c_id">Carousel ID</label>
            <input hidden id="carousel_id" type="text" name="carousel_id" class="form-control"  autofocus>
        </div>  
        <div class="form-group mb-3">
            <label>Author Name</label>
            <input type="text" name="author_name" class="form-control" value="<%= foundPost.author_name %>" required autofocus>
        </div>
        <div class="form-group mb-3">
            <label>Tags</label>
            <input type="text" name="tags" class="form-control" required autofocus>
            <span style="color: red; font-size: 12px;">Do not add any spaces before and after the comma for eg.(cats,dogs,horses)</span>
        </div>
        <div class="mb-3">
            <button type="submit" class="btn btn-lg btn-dark">Publish</button>
        </div>
    </form>
</body>

<script>

function myFunction(){
    const a = $('#headingOption option:selected').text();
    if (a === "Yes"){
        $('#cHead').show();
        $('#c_id').show();
        $("#carouselHeading").prop('hidden', false);
        $("#carousel_id").prop('hidden', false);
    } else {
        $('#cHead').hide();
        $('#c_id').hide();
        $("#carouselHeading").prop('hidden', true);
        $("#carousel_id").prop('hidden', true);
    }
}
</script>