<%- include("partial/header") -%>

<%- include("partial/admin-navbar") -%>

    <body>

        <h1 class="text-3xl text-center font-bold mt-12">Edit Post</h1>
        <div class="max-w-5xl px-4 py-10 sm:px-6 lg:px-8 lg:py-14 mx-auto">
            <!-- Card -->
            <div class="bg-white rounded-xl shadow p-4 sm:p-7 none:bg-slate-900">
                <form action="/edit-post" method="POST">
                    <!-- Section -->
                    <div
                        class="grid sm:grid-cols-12 gap-2 sm:gap-4 py-8 first:pt-0 last:pb-0 border-t first:border-transparent border-gray-200 none:border-gray-700 none:first:border-transparent">
                        <div class="sm:col-span-12">
                            <h2 class="text-lg font-semibold text-gray-800 none:text-gray-200">
                                Publish Post
                            </h2>
                        </div>
                        <!-- End Col -->

                        <input name="id" value="<%= foundPost._id %>" type="id" hidden>

                        <div class="sm:col-span-3">
                            <label for="af-submit-application-email"
                                class="inline-block text-sm font-medium text-gray-500 mt-2.5">
                                Title
                            </label>
                        </div>
                        <!-- End Col -->

                        <div class="sm:col-span-9">
                            <input required autocomplete="off" value="<%= foundPost.title %>" name="title"
                                id="af-submit-application-email" type="text" minlength="15" maxlength="150"
                                class="py-2 px-3 pe-11 block w-full border border-gray-300 shadow-sm text-sm rounded-lg focus:border-blue-500 focus:ring-blue-500 disabled:opacity-50 disabled:pointer-events-none none:bg-slate-900 none:border-gray-700 none:text-gray-400 none:focus:ring-gray-600">
                        </div>
                        <!-- End Col -->

                        <div class="sm:col-span-3">
                            <div class="inline-block">
                                <label for="af-submit-application-phone"
                                    class="inline-block text-sm font-medium text-gray-500 mt-2.5">
                                    Cover Image URL
                                </label>
                            </div>
                        </div>
                        <!-- End Col -->

                        <div class="sm:col-span-9">
                            <input required autocomplete="off" name="img_url" value="<%= foundPost.img_url %>"
                                id="af-submit-application-phone" type="text"
                                class="py-2 px-3 pe-11 block w-full border border-gray-300 shadow-sm rounded-lg text-sm focus:border-blue-500 focus:ring-blue-500 disabled:opacity-50 disabled:pointer-events-none none:bg-slate-900 none:border-gray-700 none:text-gray-400 none:focus:ring-gray-600">
                            <p class="mt-3">
                                <a class="inline-flex items-center gap-x-1 text-sm text-blue-600 decoration-2 hover:underline font-medium none:focus:outline-none none:focus:ring-1 none:focus:ring-gray-600"
                                    target="_blank" href="<%= foundPost.img_url %>">
                                    <svg class="w-4 h-4 text-blue-500" aria-hidden="true"
                                        xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                                        <path stroke="currentColor" stroke-width="2"
                                            d="M21 12c0 1.2-4 6-9 6s-9-4.8-9-6c0-1.2 4-6 9-6s9 4.8 9 6Z" />
                                        <path stroke="currentColor" stroke-width="2"
                                            d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" />
                                    </svg> View image
                                </a>
                            </p>
                        </div>
                        <!-- End Col -->

                        <div class="sm:col-span-3">
                            <div class="inline-block">
                                <label for="af-submit-application-current-company"
                                    class="inline-block text-sm font-medium text-gray-500 mt-2.5">
                                    Post Body
                                </label>
                            </div>
                        </div>
                        <!-- End Col -->

                        <div class="sm:col-span-9">
                            <div>
                                <textarea required autocomplete="off" name="content"
                                    id="editor1"><%= foundPost.content %></textarea>
                            </div>
                        </div>
                        <!-- End Col -->

                        <div class="sm:col-span-3">
                            <div class="inline-block">
                                <label class="inline-block text-sm font-medium text-gray-500 mt-2.5">
                                    Main Category
                                </label>
                            </div>
                        </div>
                        <!-- End Col -->

                        <div class="sm:col-span-9">
                            <select name="mainTag" required
                                class="py-2 px-4 pe-9 block w-full border border-gray-300 rounded-lg text-sm focus:border-blue-500 focus:ring-blue-500">
                                <option selected disabled value="">Choose a option</option>
                                <option value="f1">Formula 1</option>
                                <option value="motogp">Moto GP</option>
                                <option value="imsp">Indian Motorsport</option>
                                <option value="others">Others</option>
                            </select>
                        </div>
                        <!-- End Col -->

                        <div class="sm:col-span-3">
                            <div class="inline-block">
                                <label class="inline-block text-sm font-medium text-gray-500 mt-2.5">
                                    Author Name
                                </label>
                            </div>
                        </div>
                        <!-- End Col -->

                        <div class="sm:col-span-9">
                            <input required autocomplete="off" name="author_name" value="<%= foundPost.author_name %>"
                                type="text"
                                class="py-2 px-3 pe-11 block w-full border border-gray-300 shadow-sm rounded-lg text-sm focus:border-blue-500 focus:ring-blue-500 disabled:opacity-50 disabled:pointer-events-none none:bg-slate-900 none:border-gray-700 none:text-gray-400 none:focus:ring-gray-600">
                        </div>
                        <!-- End Col -->

                        <div class="sm:col-span-3">
                            <div class="inline-block">
                                <label class="inline-block text-sm font-medium text-gray-500 mt-2.5">
                                    Is Heading?
                                    <button data-tooltip-target="tooltip-default-3" type="button"><i class="ri-information-2-line"></i></button>
                                </label>

                                <div id="tooltip-default-3" role="tooltip" class="absolute max-w-xs z-10 invisible inline-block px-3 mr-3 py-2 text-sm font-medium text-black transition-opacity duration-300 bg-white border border-gray-200 rounded-lg shadow-sm  rounded-lg shadow-sm opacity-0 tooltip">
                                    <p class="text-base mb-2">Info</p>
                                    <ul class="max-w-xl text-xs">
                                        <li>
                                            Please select 'Yes' if you would like to feature this article on the main cards at the front. 
                                        </li>
                                    </ul>  
                                    
                                    <div class="tooltip-arrow" data-popper-arrow></div>
                                </div>
                            </div>
                        </div>
                        <!-- End Col -->

                        <div class="sm:col-span-9">
                            <select id="headingOption" onchange="myFunction()" name="isHeading" required
                                class="py-2 px-4 pe-9 block w-full border border-gray-300 rounded-lg text-sm focus:border-blue-500 focus:ring-blue-500">
                                <option selected disabled value="">Choose option</option>
                                <option value="true">Yes</option>
                                <option value="false">No</option>
                            </select>
                        </div>
                        <!-- End Col -->

                        <div class="sm:col-span-3">
                            <div class="inline-block">
                                <label style="display: none;" id="cHead"
                                    class="inline-block text-sm font-medium text-gray-500 mt-2.5">
                                    Carousel Heading
                                    <button data-tooltip-target="tooltip-default-2" type="button">
                                        <i class="ri-information-2-line"></i>
                                    </button>
                                </label>
                            </div>

                            <div id="tooltip-default-2" role="tooltip" class="absolute max-w-xs z-10 invisible inline-block px-3 mr-3 py-2 text-sm font-medium text-black transition-opacity duration-300 bg-white border border-gray-200 rounded-lg shadow-sm  rounded-lg shadow-sm opacity-0 tooltip">
                                <p class="text-base mb-1">Info</p>
                                <ul class="max-w-xl text-xs">
                                    <li>This short heading will be prominently featured on the main cards at the front, ensuring clarity and engagement. Max 80 letters allowed</li>
                                </ul>  
                                  
                                <div class="tooltip-arrow" data-popper-arrow></div>
                            </div>
                            
                        </div>

                        <div class="sm:col-span-9">
                            <input style="display: none;" autocomplete="off" name="carouselHeading" type="text" maxlength="80"
                                class="py-2 px-3 pe-11 block w-full border border-gray-300 shadow-sm rounded-lg text-sm focus:border-blue-500 focus:ring-blue-500 disabled:opacity-50 disabled:pointer-events-none none:bg-slate-900 none:border-gray-700 none:text-gray-400 none:focus:ring-gray-600">
                        </div>

                        <div class="sm:col-span-3">
                            <div class="inline-block">
                                <label style="display: none;" id="c_id"
                                    class="inline-block text-sm font-medium text-gray-500 mt-2.5">
                                    Carousel ID
                                    <button data-tooltip-target="tooltip-default-1" type="button">
                                        <i class="ri-information-2-line"></i>
                                    </button>
                                </label>
                            </div>
                            <div id="tooltip-default-1" role="tooltip" class="absolute max-w-xs z-10 invisible inline-block px-3 mr-3 py-2 text-sm font-medium text-black transition-opacity duration-300 bg-white border border-gray-200 rounded-lg shadow-sm  rounded-lg shadow-sm opacity-0 tooltip">
                                <p class="text-base mb-1">Info</p>
                                <ul class="max-w-xl text-xs">
                                    <li>Please indicate the position of your article with a value of 1, 2, or 3. This corresponds to the placement of the article on the main cards at the front, with 1 representing the leftmost position.</li>                                    
                                </ul>  
                                  
                                <div class="tooltip-arrow" data-popper-arrow></div>
                            </div>
                        </div>
                        <!-- End Col -->

                        <div class="sm:col-span-9">
                            <input style="display: none;" pattern="^[1-3]$"
                            autocomplete="off" name="carousel_id" type="text" oninvalid="this.setCustomValidity('Please enter 1,2 or 3')" oninput="setCustomValidity('')"
                                class="py-2 px-3 pe-11 block w-full border border-gray-300 shadow-sm rounded-lg text-sm focus:border-blue-500 focus:ring-blue-500 disabled:opacity-50 disabled:pointer-events-none none:bg-slate-900 none:border-gray-700 none:text-gray-400 none:focus:ring-gray-600">
                        </div>
                        <!-- End Col -->


                        <div class="sm:col-span-3">
                            <div class="inline-block">
                                <label class="inline-block text-sm font-medium text-gray-500 mt-2.5">
                                    Tags
                                </label>
                            </div>
                        </div>

                        <div class="sm:col-span-9">
                            <input required autocomplete="off" name="tags" type="text"
                                class="py-2 px-3 pe-11 block w-full border border-gray-300 shadow-sm rounded-lg text-sm focus:border-blue-500 focus:ring-blue-500 disabled:opacity-50 disabled:pointer-events-none none:bg-slate-900 none:border-gray-700 none:text-gray-400 none:focus:ring-gray-600">
                            <p class="mt-3">
                                <span
                                    class="inline-flex items-center gap-x-1 text-xs text-red-500 decoration-2 font-medium none:focus:outline-none none:focus:ring-1 none:focus:ring-gray-600">
                                    <svg class="w-4 h-4 text-red-500" aria-hidden="true"
                                        xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
                                            stroke-width="2"
                                            d="M10 11h2v5m-2 0h4m-2.6-8.5h0M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
                                    </svg>Do not add any spaces before and after the comma for eg.(f1,motogp)
                                </span>
                            </p>
                        </div>
                    </div>


                    <button type="submit"
                        class="w-full py-3 mt-6 px-4 inline-flex justify-center items-center gap-x-2 text-sm font-semibold rounded-lg border border-transparent bg-green-500 text-white hover:bg-green-600 disabled:opacity-50 disabled:pointer-events-none none:focus:outline-none none:focus:ring-1 none:focus:ring-gray-600">
                        Publish
                    </button>
                </form>
            </div>
            <!-- End Card -->
        </div>
        <!-- End Card Section -->


        <script src="https://cdn.ckeditor.com/4.22.1/standard/ckeditor.js"></script>
        <script>
            CKEDITOR.replace('editor1', {
                extraPlugins: 'image',
                height: 400,
                uiColor: '#FCFCFC',
                allowedContent :
    'h1 h2 h3 p blockquote table strong em;' +
    'a[!href];' +
    'img(left,right)[!src,alt];'
            });
        </script>



        <script>
            function myFunction() {
                var headingOption = document.getElementById("headingOption");
                var cHead = document.getElementById("cHead");
                var carouselHeadingInput = document.getElementsByName("carouselHeading")[0];
                var cId = document.getElementById("c_id");
                var carouselIdInput = document.getElementsByName("carousel_id")[0];

                if (headingOption.value === "true") {
                    cHead.style.display = "inline-block";
                    carouselHeadingInput.style.display = "block";
                    cId.style.display = "inline-block";
                    carouselIdInput.style.display = "block";
                } else if (headingOption.value === "false") {
                    cHead.style.display = "none";
                    carouselHeadingInput.style.display = "none";
                    cId.style.display = "none";
                    carouselIdInput.style.display = "none";
                }
            }
        </script>

    </body>