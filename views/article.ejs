<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="theme-color" content="#000000">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="og:title" content="<%= foundPost.title %>" />
    <meta property="og:image" content="<%= foundPost.img_url%>" />

    <title>DesiRacingCo</title>
    <link rel="shortcut icon" href="https://pbs.twimg.com/profile_images/1650559623961927681/GIuz2m6K_400x400.jpg"
        type="image/x-icon">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="
    https://cdn.jsdelivr.net/npm/preline@2.0.3/dist/preline.min.js
    "></script>
    <link rel="stylesheet" href="/css/styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Exo+2:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;1,400;1,700&display=swap"
        rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.7.0.min.js"
        integrity="sha256-2Pmvv0kuTBOenSvLm6bvfBSSHrUJ+3A7x6P5Ebd07/g=" crossorigin="anonymous"></script>
    <script>
        function replaceWithPlaceholder(image) {
            image.src = 'https://placehold.co/600x400?text=No+Cover+Image';
        }

    </script>
</head>



<%- include("partial/navbar") -%>
    <script src="https://cdn.jsdelivr.net/npm/flowbite@2.2.1/dist/flowbite.min.js"></script>

    <body>
        <section class="bg-white">
<!-- Blog Article -->
<div class="max-w-[85rem] px-4 sm:px-6 lg:px-8 mx-auto">
    <div class="grid lg:grid-cols-3 gap-y-8 lg:gap-y-0 lg:gap-x-6">
      <!-- Content -->
      <div class="lg:col-span-2">
        <div class="py-8 lg:pe-8">
          <div class="space-y-5 lg:space-y-8">
            <!-- breadcumb -->
            <span class="inline-flex items-center gap-x-1.5 py-1.5 px-3 rounded-md text-xs font-medium bg-gray-200 text-white">
                <ol class="flex items-center whitespace-nowrap" aria-label="Breadcrumb">
                    <li class="inline-flex items-center">
                      <a class="flex items-center text-[10px] md:text-xs text-black hover:text-blue-600 focus:outline-none focus:text-blue-600 null:focus:text-blue-500" href="/">
                        Home
                      </a>
                      <svg class="flex-shrink-0 mx-2 overflow-visible size-4 text-gray-400 null:text-neutral-600" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m9 18 6-6-6-6"/></svg>
                    </li>
                    <li class="inline-flex items-center">
                      <a class="flex items-center text-[10px] md:text-xs text-black hover:text-blue-600 focus:outline-none focus:text-blue-600 null:focus:text-blue-500" href="/category?name=<%= foundPost.mainTag %>">
                        <% if(foundPost.mainTag == 'imsp'){ %>
                            Indian Motorsport
                        <% } else { %>
                            <%= foundPost.mainTag.toUpperCase() %>
                        <% } %>
                        <svg class="flex-shrink-0 mx-2 overflow-visible size-4 text-gray-400 null:text-neutral-600" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m9 18 6-6-6-6"/></svg>
                      </a>
                    </li>
                    <li class="inline-flex items-center text-[10px] md:text-xs font-semibold text-gray-800 truncate null:text-gray-200" aria-current="page">
                      <% const letterCount = (str) => (str.match(/[a-zA-Z]/g) || []).length; %>
                      <% const result = letterCount(foundPost.title); %>
                      <% if(result > 35){ %>
                        <%= foundPost.title.slice(0,35) %>...          
                      <% } else { %>
                        <%= foundPost.title %>           
                      <% } %>
                    </li>
                  </ol>
            </span>


            <h2 class="text-3xl font-bold lg:text-5xl null:text-white"><%= foundPost.title %></h2>
  
            <div class="flex items-center gap-x-5">
              <ul class="ml-2 mt-1 text-xs text-gray-500">
                <li
                    class="ml-1 text-xs md:text-sm inline-block relative pe-6 last:pe-0 last-of-type:before:hidden before:absolute before:top-1/2 before:end-2 before:-translate-y-1/2 before:w-1 before:h-1 before:bg-gray-800 before:rounded-full nonetext-gray-400 nonebefore:bg-gray-600">
                    <i class="ri-user-3-line mr-1"></i>
                    <%= foundPost.author_name %>

                </li>
                <li
                    class="ml-1 inline-block text-xs md:text-sm relative pe-6 last:pe-0 last-of-type:before:hidden before:absolute before:top-1/2 before:end-2 before:-translate-y-1/2 before:w-1 before:h-1 before:bg-gray-800 before:rounded-full nonetext-gray-400 nonebefore:bg-gray-600">
                    <i class="ri-calendar-line mr-1"></i>
                    <%= foundPost.createdAt.toLocaleString('en-US', { month: 'short'
                        , day: '2-digit' , year: 'numeric' }) %>

                </li>
                <li
                    class="inline-block relative pe-6 last:pe-0 last-of-type:before:hidden before:absolute before:top-1/2 before:end-2 before:-translate-y-1/2 before:w-1 before:h-1 before:bg-gray-800 before:rounded-full text-xs md:text-sm nonetext-gray-400 nonebefore:bg-gray-600">
                    <i class="ri-time-line mr-1"></i>
                    <span id="timeToRead"></span> min read
                </li>
            </ul>
            </div>
  
            <figure class="mt-5">
                <img class="w-[55rem] max-h-[40rem] rounded-xl shadow-md" src="<%= foundPost.img_url %>" alt="Article Image"
                    onerror="replaceWithPlaceholder(this)">
            </figure>
            <!-- <p id="dynamicContent" class="text-lg text-gray-800 null:text-gray-200"><%- foundPost.content %></p> -->
            <div id="dynamicContent" class="text-lg articleContent my-12 mx-1 text-gray-800 ">
                <%- foundPost.content %>
            </div>
            <div class="grid lg:flex lg:justify-between lg:items-center gap-y-5 lg:gap-y-0">
              <!-- Badges/Tags -->
              <div>
                <% foundPost.tags.forEach(function(tag){ %>
                    <span class="m-0.5 inline-flex items-center gap-1.5 py-2 px-3 rounded-full text-sm bg-gray-100 text-gray-800 hover:bg-gray-200 null:bg-gray-800 null:hover:bg-gray-700 null:text-gray-200 null:focus:outline-none null:focus:ring-1 null:focus:ring-gray-600" href="#">
                        #<%= tag %>
                      </span>
                    <% }) %>
              </div>
              <!-- End Badges/Tags -->
  
              <div class="flex justify-end items-center gap-x-1.5">
                <!-- Button -->
                <div class="hs-tooltip inline-block">
                  
                </div>

                <!-- Button -->
                <div class="hs-tooltip inline-block">
                  
                </div>
  
                <!-- Button -->
                <div class="relative inline-flex">
                    <div>

                        <button id="dropdownDefaultButton" data-dropdown-toggle="dropdown" data-dropdown-placement="top"
                            class="hs-dropdown-toggle flex items-center gap-x-2 text-sm text-gray-500 hover:text-gray-800 null:text-gray-400 null:hover:text-gray-200 null:focus:outline-none null:focus:ring-1 null:focus:ring-gray-600"
                            type="button"><svg class="flex-shrink-0 size-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"/><polyline points="16 6 12 2 8 6"/><line x1="12" x2="12" y1="2" y2="15"/></svg>
                            Share
                        </button>

                        <!-- Dropdown menu -->
                        <div id="dropdown"
                            class="z-10 mr-2 hidden bg-gray-950 text-white divide-y divide-gray-100 rounded-lg shadow w-44 nonebg-gray-700">
                            <ul class="py-3 text-sm text-gray-700 nonetext-gray-200">
                                <li style="font-size: 10px;" class="flex items-center">
                                    <a id="shareButton"
                                        class="inline-flex text-white w-full px-4 py-2 hover:bg-gray-600 nonehover:bg-gray-600 nonehover:text-white">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="18"
                                            height="18" fill="currentColor"
                                            class="bi mr-2 bi-whatsapp" viewBox="0 0 16 16">
                                            <path
                                                d="M13.601 2.326A7.85 7.85 0 0 0 7.994 0C3.627 0 .068 3.558.064 7.926c0 1.399.366 2.76 1.057 3.965L0 16l4.204-1.102a7.9 7.9 0 0 0 3.79.965h.004c4.368 0 7.926-3.558 7.93-7.93A7.9 7.9 0 0 0 13.6 2.326zM7.994 14.521a6.6 6.6 0 0 1-3.356-.92l-.24-.144-2.494.654.666-2.433-.156-.251a6.56 6.56 0 0 1-1.007-3.505c0-3.626 2.957-6.584 6.591-6.584a6.56 6.56 0 0 1 4.66 1.931 6.56 6.56 0 0 1 1.928 4.66c-.004 3.639-2.961 6.592-6.592 6.592m3.615-4.934c-.197-.099-1.17-.578-1.353-.646-.182-.065-.315-.099-.445.099-.133.197-.513.646-.627.775-.114.133-.232.148-.43.05-.197-.1-.836-.308-1.592-.985-.59-.525-.985-1.175-1.103-1.372-.114-.198-.011-.304.088-.403.087-.088.197-.232.296-.346.1-.114.133-.198.198-.33.065-.134.034-.248-.015-.347-.05-.099-.445-1.076-.612-1.47-.16-.389-.323-.335-.445-.34-.114-.007-.247-.007-.38-.007a.73.73 0 0 0-.529.247c-.182.198-.691.677-.691 1.654s.71 1.916.81 2.049c.098.133 1.394 2.132 3.383 2.992.47.205.84.326 1.129.418.475.152.904.129 1.246.08.38-.058 1.171-.48 1.338-.943.164-.464.164-.86.114-.943-.049-.084-.182-.133-.38-.232" />
                                        </svg>
                                        <span>Share on WhatsApp</span>
                                    </a>
                                </li>

                                <li style="font-size: 10px;" class="flex items-center">
                                    <a onclick="sharePage()"
                                        class="inline-flex w-full text-white w-full px-4 py-2 hover:bg-gray-600 nonehover:bg-gray-600 nonehover:text-white">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="18"
                                            height="18" fill="currentColor"
                                            class="mr-2 bi bi-twitter-x" viewBox="0 0 16 16">
                                            <path
                                                d="M12.6.75h2.454l-5.36 6.142L16 15.25h-4.937l-3.867-5.07-4.425 5.07H.316l5.733-6.57L0 .75h5.063l3.495 4.633L12.601.75Zm-.86 13.028h1.36L4.323 2.145H2.865z" />
                                        </svg>
                                        <span>Share on X</span>
                                    </a>
                                </li>
                                <p id="link" style="display: none;">
                                    https://desiracingco.in/article/
                                    <%= foundPost._id %>
                                </p>
                                <li style="font-size: 10px;" class="flex items-center">
                                    <a onclick="copyContent()"
                                        class="inline-flex w-full text-white w-full px-4 py-2 hover:bg-gray-600 nonehover:bg-gray-600 nonehover:text-white">
                                        <svg class="mr-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20" fill="currentColor"><path d="M13.0607 8.11097L14.4749 9.52518C17.2086 12.2589 17.2086 16.691 14.4749 19.4247L14.1214 19.7782C11.3877 22.5119 6.95555 22.5119 4.22188 19.7782C1.48821 17.0446 1.48821 12.6124 4.22188 9.87874L5.6361 11.293C3.68348 13.2456 3.68348 16.4114 5.6361 18.364C7.58872 20.3166 10.7545 20.3166 12.7072 18.364L13.0607 18.0105C15.0133 16.0578 15.0133 12.892 13.0607 10.9394L11.6465 9.52518L13.0607 8.11097ZM19.7782 14.1214L18.364 12.7072C20.3166 10.7545 20.3166 7.58872 18.364 5.6361C16.4114 3.68348 13.2456 3.68348 11.293 5.6361L10.9394 5.98965C8.98678 7.94227 8.98678 11.1081 10.9394 13.0607L12.3536 14.4749L10.9394 15.8891L9.52518 14.4749C6.79151 11.7413 6.79151 7.30911 9.52518 4.57544L9.87874 4.22188C12.6124 1.48821 17.0446 1.48821 19.7782 4.22188C22.5119 6.95555 22.5119 11.3877 19.7782 14.1214Z"></path></svg>
                                        <span id="copied">Copy Link</span>
                                    </a>
                                </li>
                            </ul>
                        </div>

                    </div>
                </div>
                <!-- Button -->
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- End Content -->
  
      <!-- Sidebar -->
      <div class="lg:col-span-1 lg:w-full lg:h-full ">
        <% if(foundPost.mainTag == 'f1') { %>
            <div class="bg-gradient-to-r from-red-500 to-orange-500 rounded-3xl md:m-4 top-0 start-0 py-8 px-5">
        <% } else if (foundPost.mainTag == 'motogp'){ %>
            <div class="bg-gradient-to-r from-yellow-200 to-green-500 rounded-3xl md:m-4 top-0 start-0 py-8 px-5">
        <% } else if(foundPost.mainTag == 'imsp'){ %>
            <div class="bg-gradient-to-r from-indigo-400 to-cyan-400 rounded-3xl md:m-4 top-0 start-0 py-8 px-5">
        <% } else { %>
            <div class="bg-gradient-to-r from-amber-200 to-yellow-400 rounded-3xl md:m-4 top-0 start-0 py-8 px-5">
        <% } %>
          <!-- Avatar Media -->
          <div class="mb-5">
            <h2 class="text-2xl font-semibold">Trending Stories from
                <% if(foundPost.mainTag == 'f1'){ %>
                    <h1 class="text-4xl font-bold">#<%= foundPost.mainTag.toUpperCase() %></h1>
                <% } else if (foundPost.mainTag == 'motogp'){ %>
                    <h1 class="text-4xl font-bold">#<%= foundPost.mainTag.toUpperCase() %></h1>
                <% } else if (foundPost.mainTag == 'imsp') { %>
                    <h1 class="text-3xl font-bold">#INDIAN MOTORSPORT</h1>
                <% } else { %>
                    <h1 class="text-4xl font-bold">#OTHER Categories</h1>
                <% } %>
            </h2>

          </div>
  
          <div class="space-y-6">
            <!-- Media -->
            <% catPost.forEach((post) => { %>
                <a class="group flex items-center gap-x-6" href="/article/<%= post._id %>">
                    <div class="grow">
                      <span class="text-sm text-justify font-bold text-gray-800 group-hover:text-blue-600 null:text-gray-200 null:group-hover:text-blue-500">
                        <%= post.title %>
                      </span>
                    </div>
        
                    <div class="flex-shrink-0 relative rounded-lg overflow-hidden size-20">
                      <img class="size-full absolute top-0 start-0 object-cover rounded-lg" src="<%= post.img_url %>" alt="image">
                    </div>
                  </a>
            <% }) %>
            
            <!-- End Media -->

          </div>
        </div>
      </div>
      <!-- End Sidebar -->
    </div>
  </div>
  <!-- End Blog Article -->

  <hr class="mx-10">

        <div class="max-w-8xl px-4 py-10 sm:px-6 lg:px-8 lg:py-14 mx-auto">
            <!-- Grid -->
            <div class="max-w-2xl mb-10 lg:mb-14">
                <h2 class="text-2xl font-bold md:text-4xl md:leading-tight nonetext-white">Explore More</h2>
            </div>

            <div class="grid lg:grid-cols-2 gap-6">
                <!-- Card -->
                <a class="group relative block rounded-xl nonefocus:outline-none nonefocus:ring-1 nonefocus:ring-gray-600"
                    href="/category?name=f1">
                    <div
                        class="flex-shrink-0 relative rounded-xl overflow-hidden w-full h-[350px] before:absolute before:inset-x-0 before:w-full before:h-full before:bg-gradient-to-t before:from-gray-900/[.7] before:z-[1]">
                        <img class="w-full h-full absolute top-0 start-0  object-cover"
                            src="https://library.sportingnews.com/styles/crop_style_16_9_desktop/s3/2023-02/nba-plain--5a35d13f-c0ee-4740-bb0d-357b329fd4db.png?itok=R6Y5e-bq"
                            alt="Image Description">
                    </div>

                    <div class="absolute top-0 inset-x-0 z-10">
                        <div class="p-4 flex flex-col h-full sm:p-6">

                        </div>
                    </div>

                    <div class="absolute bottom-0 inset-x-0 z-10">
                        <div class="flex flex-col h-full p-4 sm:p-6">
                            <h3 class="text-lg sm:text-3xl font-semibold text-white group-hover:text-white/[.8]">
                                Latest from Formula 1
                            </h3>
                            <p class="mt-2 text-white/[.8]">
                                Explore the latest and most exciting news
                            </p>
                        </div>
                    </div>
                </a>
                <!-- End Card -->

                <!-- Card -->
                <a class="group relative block rounded-xl nonefocus:outline-none nonefocus:ring-1 nonefocus:ring-gray-600"
                    href="/category?name=motogp">
                    <div
                        class="flex-shrink-0 relative rounded-xl overflow-hidden w-full h-[350px] before:absolute before:inset-x-0 before:w-full before:h-full before:bg-gradient-to-t before:from-gray-900/[.7] before:z-[1]">
                        <img class="w-full h-full absolute top-0 start-0  object-cover"
                            src="https://vroom.media/wp-content/uploads/motogp-4k-hd-ibc-tv.jpg"
                            alt="Image Description">
                    </div>

                    <div class="absolute top-0 inset-x-0 z-10">
                        <div class="p-4 flex flex-col h-full sm:p-6">

                        </div>
                    </div>

                    <div class="absolute bottom-0 inset-x-0 z-10">
                        <div class="flex flex-col h-full p-4 sm:p-6">
                            <h3 class="text-lg sm:text-3xl font-semibold text-white group-hover:text-white/[.8]">
                                Latest from MotoGP
                            </h3>
                            <p class="mt-2 text-white/[.8]">
                                Explore the latest and most exciting news
                            </p>
                        </div>
                    </div>
                </a>
                <!-- End Card -->
            </div>
            <!-- End Grid -->
        </div>

        <script>
            document.addEventListener('DOMContentLoaded', function () {
                // Get the article content
                var articleContent = document.getElementById('dynamicContent').innerText;
                // Count the total number of words
                var wordCount = articleContent.split(/\s+/).length;

                // Average reading speed (adjust as needed)
                var wordsPerMinute = 200;

                // Calculate reading time in minutes
                var readingTime = Math.ceil(wordCount / wordsPerMinute);

                // Display the reading time dynamically
                var readingTimeElement = document.getElementById('timeToRead').innerHTML = readingTime;
            });
        </script>


        <script>
            let text = 'https://<%- domain %>/article/<%- foundPost._id %>';
            let textTitle = '<%- foundPost.title %>'

            const shareButton = document.getElementById('shareButton');
            shareButton.addEventListener('click', () => {
                const shareUrl = text;
                // Create the WhatsApp share URL
                const whatsappUrl = `whatsapp://send?text=${encodeURIComponent(shareUrl)}`;
                // Open WhatsApp with the share URL
                window.location.href = whatsappUrl;
            });

            function sharePage() {
                const url = text;
                window.open('https://twitter.com/intent/tweet?text=' + encodeURIComponent(textTitle + "\n\nCheck out this interesting article from DesiRacingCo!") + '%0A&url=' + encodeURIComponent(url), '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=450,width=600');
                return false;
            };

            const copyContent = async () => {
                try {
                    await navigator.clipboard.writeText(text);
                    document.getElementById('copied').innerHTML = "Copied!"
                    setTimeout(() => {
                        document.getElementById('copied').innerHTML = "Copy Link"
                    }, 3000);
                } catch (err) {
                }
            }
        </script>

        <script>
            // Get all img elements inside the dynamicContent div
            const imgElements = document.querySelectorAll('#dynamicContent img');
            const pElements = document.querySelectorAll('#dynamicContent p');
            const aElements = document.querySelectorAll('#dynamicContent a');
            const h1Elements = document.querySelectorAll('#dynamicContent h1');
            const h2Elements = document.querySelectorAll('#dynamicContent h2');
            const h3Elements = document.querySelectorAll('#dynamicContent h3');
            const strongElements = document.querySelectorAll('#dynamicContent strong');
            const ulElements = document.querySelectorAll('#dynamicContent ul');

ulElements.forEach(ul => {
    ul.style = '';

    ul.classList.add('list-disc', 'ml-3');
});
            strongElements.forEach(strong => {
                strong.classList.add('my-3', 'text-justify', 'text-xl', 'md:text-2xl');
            });

            h1Elements.forEach(h1 => {
                h1.classList.add('my-1', 'text-justify', 'text-xl', 'md:text-2xl');
            });

            h2Elements.forEach(h2 => {
                h2.classList.add('my-1', 'text-justify', 'text-xl', 'md:text-2xl');
            });

            h3Elements.forEach(h3 => {
                h3.classList.add('my-1', 'text-justify', 'text-xl', 'md:text-2xl');
            });

            pElements.forEach(p => {
                if (p.innerHTML.trim() === '&nbsp;') {
        p.remove();
    } else {
        p.classList.add('my-3','md:my-4' ,'text-justify', 'text-[18px]', 'md:text-lg');

    }
            });
            // Loop through each img element and add Tailwind CSS classes
            imgElements.forEach(img => {
                img.style = '';
                img.classList.add('rounded-xl', 'w-[28rem]', 'md:w-[40.5rem]', 'my-5' ,'shadow-md');
                img.setAttribute('onerror', 'replaceWithDivPlaceholder(this)');

            });

            aElements.forEach(a => {
                a.classList.add('hover:underline', 'text-blue-600');
            });

            // Assuming you have an array of table elements
            const tableElements = document.querySelectorAll('table');

            tableElements.forEach(table => {
                table.style=''
                // Add classes to the table
                table.classList.add("my-4", "border", "border-gray-200", "border-collapse");

                // You can also apply styles to th and td elements inside the table
                const thElements = table.querySelectorAll('th');
                const tdElements = table.querySelectorAll('td');

                thElements.forEach(th => {
                    // Add classes to th elements
                    th.classList.add("border", "border-gray-200", "p-3");
                });

                tdElements.forEach(td => {
                    // Add classes to td elements
                    td.classList.add("border", "border-gray-200", "p-2");
                });
            });


        </script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/flowbite/2.3.0/flowbite.min.js"></script>

        <%- include("partial/footer") -%>